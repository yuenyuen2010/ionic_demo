System.register(["./index-legacy-Bch_udxJ.js","./index-legacy-C52fahb7.js","./CommonHeader-legacy-CjxiUfTf.js","./Footer-legacy-ptvjgXdp.js","./lessons-legacy-DIhouYxi.js"],function(e,r){"use strict";var a,t,s,o,l,c,n,i,d,m,g,b,p;return{setters:[e=>{a=e.u,t=e.r,s=e.j,o=e.I,l=e.a,c=e.b,n=e.d},e=>{i=e.y,d=e.r,m=e.s},e=>{g=e.C},e=>{b=e.F},e=>{p=e.l}],execute:function(){var r=document.createElement("style");r.textContent=".scramble-content{--background: radial-gradient(circle at top, rgba(16, 185, 129, .1), transparent 80%)}.scramble-container{max-width:520px;margin:0 auto;padding:100px 16px 40px}.scramble-progress{margin-bottom:24px}.scramble-progress .progress-bar{height:8px;background:rgba(0,0,0,.05);border-radius:4px;overflow:hidden}.scramble-progress .progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#34d399);border-radius:4px;transition:width .3s ease}.scramble-progress .progress-text{text-align:center;font-size:.85rem;font-weight:700;color:#64748b;margin-top:8px;letter-spacing:.05em}.scramble-stats{display:flex;justify-content:center;margin-bottom:32px}.scramble-stats .stat-item{display:flex;align-items:center;gap:8px}.scramble-stats .stat-label{font-size:.8rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em}.scramble-stats .stat-value{font-size:1.2rem;font-weight:800;color:var(--ion-text-color)}.scramble-card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:32px;text-align:center;margin-bottom:24px;box-shadow:0 20px 60px -15px rgba(0,0,0,.1);transition:all .3s ease}.scramble-card.correct{border-color:#22c55e;box-shadow:0 0 30px rgba(34,197,94,.2)}.scramble-card.incorrect{border-color:#ef4444;box-shadow:0 0 30px rgba(239,68,68,.2)}.scramble-prompt-label{font-size:.85rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.15em;margin-bottom:12px}.scramble-prompt{font-size:1.8rem;font-weight:800;color:var(--ion-text-color);margin:0;letter-spacing:-.03em}.answer-display{margin-bottom:24px;text-align:center}.answer-slots{display:flex;justify-content:center;gap:6px;flex-wrap:wrap}.answer-slot{width:40px;height:48px;border:2px dashed rgba(0,0,0,.1);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;font-weight:800;color:var(--ion-text-color);background:#fff;transition:all .2s ease}.answer-slot.filled{border-style:solid;border-color:#10b981;background:rgba(16,185,129,.05)}.answer-slot.correct{border-color:#22c55e;background:rgba(34,197,94,.1);color:#22c55e}.answer-slot.incorrect{border-color:#ef4444;background:rgba(239,68,68,.1);color:#ef4444}.correct-answer{margin-top:12px;font-size:.9rem;color:#ef4444}.correct-answer strong{font-weight:800}.scrambled-letters{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;margin-bottom:24px}.letter-tile{width:48px;height:56px;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.4rem;font-weight:800;color:#fff;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px rgba(16,185,129,.25)}.letter-tile:hover:not(:disabled):not(.selected){transform:translateY(-3px);box-shadow:0 8px 20px rgba(16,185,129,.35)}.letter-tile:active:not(:disabled){transform:translateY(0)}.letter-tile.selected{opacity:.3;transform:scale(.9);box-shadow:none}.letter-tile:disabled{cursor:default}.action-buttons{display:flex;justify-content:center;gap:12px}.action-buttons ion-button{--border-radius: 12px;height:44px;font-weight:700}.scramble-over-container{max-width:440px;margin:120px auto 0;padding:0 16px}.scramble-over-card{background:rgba(255,255,255,.9);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.4);border-radius:32px;padding:48px 32px;text-align:center;box-shadow:0 40px 100px -20px rgba(0,0,0,.1)}.scramble-over-card .trophy-icon{width:80px;height:80px;background:linear-gradient(135deg,#10b981,#059669);border-radius:24px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;box-shadow:0 0 30px rgba(16,185,129,.3);transform:rotate(-5deg)}.scramble-over-card .trophy-icon ion-icon{font-size:44px;color:#fff}.scramble-over-card h2{font-size:2rem;font-weight:800;margin:0 0 8px;letter-spacing:-.03em;color:var(--ion-text-color)}.scramble-over-subtitle{font-size:1rem;color:#64748b;font-weight:500;margin-bottom:32px}.scramble-over-card .score-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:32px}.scramble-over-card .score-item{background:#fff;padding:16px;border-radius:16px;border:1px solid rgba(0,0,0,.04)}.scramble-over-card .score-label{font-size:.7rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.scramble-over-card .score-value{font-size:1.4rem;font-weight:800;color:var(--ion-text-color)}.scramble-over-card .score-value.accent{color:#10b981}.scramble-over-card .play-again-btn{--background: linear-gradient(135deg, #10b981, #059669);--border-radius: 16px;height:56px;font-size:1rem;font-weight:800;margin-bottom:12px}.scramble-over-card .home-btn{--border-radius: 16px;height:48px;font-weight:700}.loading-container{display:flex;align-items:center;justify-content:center;height:60vh;color:#64748b;font-weight:600}@media (prefers-color-scheme: dark){.scramble-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.answer-slot{background:rgba(30,30,40,.8);border-color:rgba(255,255,255,.1)}.scramble-over-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.scramble-over-card .score-item{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.05)}}@media (max-width: 400px){.scramble-prompt{font-size:1.5rem}.answer-slot{width:32px;height:40px;font-size:1.1rem}.letter-tile{width:40px;height:48px;font-size:1.2rem}}\n/*$vite$:1*/",document.head.appendChild(r);const x=e=>{const r=[...e];for(let a=r.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[r[a],r[e]]=[r[e],r[a]]}return r},h=e=>{const r=e.split("");let a=x(r),t=0;for(;a.join("")===e&&t<10;)a=x(r),t++;return a};e("default",()=>{const{t:e,i18n:r}=a(),u=t.useMemo(()=>p.flatMap(e=>e.cards),[]),[f,j]=t.useState(0),[v,w]=t.useState(0),[y,N]=t.useState([]),[k,z]=t.useState([]),[C,S]=t.useState(null),[B,$]=t.useState([]),[H,M]=t.useState(!1),T=()=>{const e=u.filter(e=>e.tagalog.length>=3&&e.tagalog.length<=12&&!e.tagalog.includes(" ")),r=x(e).slice(0,8);$(r),j(0),w(0),z([]),S(null),M(!1)};t.useEffect(()=>{if(0!==B.length){if(f<B.length){const e=B[f];N(h(e.tagalog)),z([]),S(null)}}else T()},[f,B]);const E=B[f],W=k.map(e=>y[e]).join("");if(t.useEffect(()=>{if(E&&null===C&&W.length===E.tagalog.length){const e=W===E.tagalog;S(e?"correct":"incorrect"),e&&w(e=>e+1),setTimeout(()=>{f+1>=8?M(!0):j(e=>e+1)},1200)}},[W,E,C,f]),H){const r=Math.round(v/8*100);return s.jsxs(o,{children:[s.jsx(g,{title:e("scramble.title"),showBackButton:!0,defaultHref:"/home"}),s.jsx(l,{className:"ion-padding scramble-content",children:s.jsxs("div",{className:"scramble-over-container fade-in-up",children:[s.jsxs("div",{className:"scramble-over-card",children:[s.jsx("div",{className:"trophy-icon",children:s.jsx(c,{icon:i})}),s.jsx("h2",{children:e("scramble.complete")}),s.jsx("p",{className:"scramble-over-subtitle",children:e("scramble.greatUnscrambling")}),s.jsxs("div",{className:"score-grid",children:[s.jsxs("div",{className:"score-item",children:[s.jsx("div",{className:"score-label",children:e("game.finalScore")}),s.jsxs("div",{className:"score-value",children:[v,"/",8]})]}),s.jsxs("div",{className:"score-item",children:[s.jsx("div",{className:"score-label",children:e("game.accuracy")}),s.jsxs("div",{className:"score-value accent",children:[r,"%"]})]})]}),s.jsxs(n,{expand:"block",className:"play-again-btn",onClick:T,children:[s.jsx(c,{icon:d,slot:"start"}),e("game.playAgain")]}),s.jsx(n,{expand:"block",fill:"outline",routerLink:"/home",className:"home-btn",children:e("review.backToHome")})]}),s.jsx(b,{})]})})]})}return E?s.jsxs(o,{children:[s.jsx(g,{title:e("scramble.title"),showBackButton:!0,defaultHref:"/home"}),s.jsx(l,{className:"ion-padding scramble-content",children:s.jsxs("div",{className:"scramble-container",children:[s.jsxs("div",{className:"scramble-progress",children:[s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:f/8*100+"%"}})}),s.jsxs("div",{className:"progress-text",children:[f+1," / ",8]})]}),s.jsx("div",{className:"scramble-stats",children:s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:e("game.score")}),s.jsx("span",{className:"stat-value",children:v})]})}),s.jsxs("div",{className:`scramble-card ${"correct"===C?"correct":""} ${"incorrect"===C?"incorrect":""}`,children:[s.jsx("div",{className:"scramble-prompt-label",children:e("scramble.unscramble")}),s.jsx("h2",{className:"scramble-prompt",children:(e=>{switch(r.language){case"zh-TW":return e.zhTW||e.english;case"zh-CN":return e.zhCN||e.english;default:return e.english}})(E)})]}),s.jsxs("div",{className:"answer-display",children:[s.jsx("div",{className:"answer-slots",children:E.tagalog.split("").map((e,r)=>s.jsx("div",{className:`answer-slot ${void 0!==k[r]?"filled":""} ${C}`,children:void 0!==k[r]?y[k[r]]:""},r))}),"incorrect"===C&&s.jsxs("div",{className:"correct-answer",children:[e("scramble.correctWas")," ",s.jsx("strong",{children:E.tagalog})]})]}),s.jsx("div",{className:"scrambled-letters",children:y.map((e,r)=>s.jsx("button",{className:"letter-tile "+(k.includes(r)?"selected":""),onClick:()=>(e=>{null===C&&(k.includes(e)?z(r=>r.filter(r=>r!==e)):z(r=>[...r,e]))})(r),disabled:null!==C,children:e},r))}),s.jsxs("div",{className:"action-buttons",children:[s.jsx(n,{fill:"outline",onClick:()=>{null===C&&z([])},disabled:0===k.length||null!==C,children:e("scramble.clear")}),s.jsxs(n,{fill:"outline",onClick:()=>{null===C&&E&&(N(h(E.tagalog)),z([]))},disabled:null!==C,children:[s.jsx(c,{icon:m,slot:"start"}),e("scramble.shuffle")]})]})]})})]}):s.jsxs(o,{children:[s.jsx(g,{title:e("scramble.title"),showBackButton:!0,defaultHref:"/home"}),s.jsx(l,{className:"ion-padding scramble-content",children:s.jsx("div",{className:"loading-container",children:s.jsx("p",{children:e("game.loading")})})})]})})}}});
