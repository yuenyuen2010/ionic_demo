import{u as w,a as I,r as p,R as O,g as z,j as e,I as T,b as D,c as i,d as L,e as $}from"./index-BZSl7NkZ.js";import{c as h,b as R,i as W,f as A,a as B,d as u,e as F,p as E,h as G,g as b,j as H,k as K,l as P,s as _,m as q,n as J,o as M}from"./index-CEQkXYGf.js";import{F as Q}from"./Footer-B2uTtlhq.js";import{l as U}from"./lessons-DH3gilkg.js";import{g as V}from"./srs-DF0wouCd.js";import{C as X}from"./CommonHeader-C0bULxfv.js";const ne=()=>{var y;const{t:s}=w(),o=I(),[a,j]=p.useState(""),[v,N]=p.useState(0),[c,k]=p.useState({streak:0,isActiveToday:!1,longestStreak:0,totalDays:0}),[d,g]=p.useState(null);O.useEffect(()=>{const l=V();N(l.dueCount),k(z())},[]);const m=U.filter(l=>{if(!a)return!0;const n=a.toLowerCase();return s(l.titleKey).toLowerCase().includes(n)?!0:l.cards.some(t=>t.tagalog.toLowerCase().includes(n)||t.english.toLowerCase().includes(n)||t.zhTW&&t.zhTW.includes(a)||t.zhCN&&t.zhCN.includes(a))}),x=m.reduce((l,n)=>{const r=n.groupKey||"groups.basics";return l[r]||(l[r]=[]),l[r].push(n),l},{}),f=["groups.basics","groups.daily_life","groups.social","groups.grammar"],C={"groups.basics":b,"groups.daily_life":G,"groups.social":E,"groups.grammar":F},S=Object.keys(x).sort((l,n)=>{const r=f.indexOf(l),t=f.indexOf(n);return r!==-1&&t!==-1?r-t:r!==-1?-1:t!==-1?1:l.localeCompare(n)});return e.jsxs(T,{children:[e.jsx(X,{title:s("common.appTitle")}),e.jsxs(D,{fullscreen:!0,className:"home-container",children:[!d&&!a&&e.jsxs("div",{className:"ambient-header fade-in-up",children:[e.jsx("h1",{children:s("home.welcome")}),e.jsx("p",{children:s("home.subtitle")})]}),e.jsxs("div",{className:"pod-dashboard ".concat(d||a?"no-ambient-header":""),children:[!d&&!a&&e.jsxs("div",{className:"primary-grid fade-in-up",children:[e.jsx("div",{className:"learning-pod pod-hero",onClick:()=>o.push("/review"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("home.reviewDue")}),e.jsx("h2",{className:"pod-value",children:s("home.dueCount",{count:v})})]}),e.jsx(i,{icon:h,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-bookmarks",onClick:()=>o.push("/lesson/bookmarks"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("bookmarks.title")}),e.jsx("h2",{className:"pod-value",children:s("bookmarks.pinnedSubtitle")})]}),e.jsx(i,{icon:R,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-intro",style:{background:"linear-gradient(135deg, #845ec2 0%, #d65db1 100%)"},onClick:()=>o.push("/intro"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("home.introToTagalog")}),e.jsx("h2",{className:"pod-value",children:s("home.introSubtitle")})]}),e.jsx(i,{icon:W,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-streak",style:{background:c.streak>0?"linear-gradient(135deg, #f97316 0%, #ef4444 100%)":"linear-gradient(135deg, #94a3b8 0%, #64748b 100%)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("home.dailyStreak")}),e.jsxs("h2",{className:"pod-value",children:[c.streak," ",c.streak===1?s("home.day"):s("home.days")," ",c.isActiveToday&&"âœ“"]})]}),e.jsx(i,{icon:A,style:{fontSize:"24px",color:"white"}})]})})]}),e.jsx("div",{className:"learning-pod search-pod fade-in-up",style:{animationDelay:"0.15s"},children:e.jsx(L,{value:a,onIonInput:l=>j(l.detail.value),placeholder:s("home.searchPlaceholder"),className:"luminous-search",onIonClear:()=>j("")})}),(d||a)&&e.jsxs("div",{className:"fade-in-up",style:{padding:"0 4px",display:"flex",alignItems:"baseline",gap:"8px"},children:[d&&!a&&e.jsxs($,{fill:"clear",onClick:()=>g(null),style:{"--color":"#64748b",fontSize:"0.85rem",fontWeight:700,margin:0},children:[e.jsx(i,{icon:B,slot:"start"}),s("common.backToCategories")]}),e.jsx("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"var(--ion-text-color)",letterSpacing:"-0.02em"},children:s(a?"home.searchFindings":d)})]}),e.jsx("div",{className:"pod-grid",children:a?m.map((l,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05,"s")},onClick:()=>o.push("/lesson/".concat(l.id)),children:[e.jsx("div",{className:"pod-icon-box",children:e.jsx(i,{icon:u})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(l.titleKey)}),e.jsx("span",{children:s("home.cardsCount",{count:l.cards.length})})]}),e.jsx(i,{icon:h,style:{color:"#cbd5e1"}})]},l.id)):d?(y=x[d])==null?void 0:y.map((l,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05,"s")},onClick:()=>o.push("/lesson/".concat(l.id)),children:[e.jsx("div",{className:"pod-icon-box",children:e.jsx(i,{icon:u})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(l.titleKey)}),e.jsx("span",{children:s("home.cardsCount",{count:l.cards.length})})]}),e.jsx(i,{icon:h,style:{color:"#cbd5e1"}})]},l.id)):S.map((l,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05+.2,"s")},onClick:()=>g(l),children:[e.jsx("div",{className:"pod-icon-box",style:{background:"var(--glow-indigo-soft)",color:"var(--glow-indigo)"},children:e.jsx(i,{icon:C[l]||b})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(l)}),e.jsx("span",{children:s("home.lessonsCount",{count:x[l].length})})]}),e.jsx(i,{icon:h,style:{color:"#cbd5e1"}})]},l))}),a&&m.length===0&&e.jsxs("div",{className:"fade-in-up",style:{textAlign:"center",padding:"60px 0",opacity:.6},children:[e.jsx(i,{icon:u,style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("p",{style:{fontWeight:600},children:s("home.noResults")})]}),!d&&!a&&e.jsxs("div",{className:"category-section fade-in-up",style:{animationDelay:"0.3s"},children:[e.jsx("h3",{className:"category-title",children:s("home.gamesCategory")}),e.jsxs("div",{className:"games-grid",children:[e.jsx("div",{className:"learning-pod pod-game",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},onClick:()=>o.push("/game"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("game.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("game.podSubtitle")})]}),e.jsx(i,{icon:H,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-memory",style:{background:"linear-gradient(135deg, #f43f5e 0%, #ec4899 100%)"},onClick:()=>o.push("/memory"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("memory.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("memory.podSubtitle")})]}),e.jsx(i,{icon:K,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-spell",style:{background:"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)"},onClick:()=>o.push("/spell"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("spell.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("spell.podSubtitle")})]}),e.jsx(i,{icon:P,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-scramble",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},onClick:()=>o.push("/scramble"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("scramble.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("scramble.podSubtitle")})]}),e.jsx(i,{icon:_,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-emoji",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"},onClick:()=>o.push("/emoji"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("emoji.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("emoji.podSubtitle")})]}),e.jsx(i,{icon:q,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-falling",style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"},onClick:()=>o.push("/falling"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("falling.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("falling.podSubtitle")})]}),e.jsx(i,{icon:J,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-listening",style:{background:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)"},onClick:()=>o.push("/listening"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("listening.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("listening.podSubtitle")})]}),e.jsx(i,{icon:M,style:{fontSize:"24px",color:"white"}})]})})]})]}),e.jsx(Q,{})]})]})]})};export{ne as default};
