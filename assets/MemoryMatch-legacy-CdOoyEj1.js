System.register(["./index-legacy-BlBWNhfL.js","./index-legacy-DgtzNASK.js","./CommonHeader-legacy-CHurDPYf.js","./Footer-legacy-BeCfXD_K.js","./lessons-legacy-ABE7m_Co.js"],function(e,r){"use strict";var a,t,s,o,i,c,n,d,l,m,p,g,x;return{setters:[e=>{a=e.u,t=e.r,s=e.j,o=e.I,i=e.b,c=e.c,n=e.e},e=>{d=e.B,l=e.r,m=e.y},e=>{p=e.C},e=>{g=e.F},e=>{x=e.l}],execute:function(){var r=document.createElement("style");r.textContent=".memory-content{--background: radial-gradient(circle at top, var(--glow-rose-soft), transparent 80%)}.memory-container{max-width:520px;margin:0 auto;padding:100px 16px 40px}.memory-stats{display:flex;justify-content:center;gap:24px;margin-bottom:32px;padding:16px 24px;background:rgba(255,255,255,.9);backdrop-filter:blur(20px);border-radius:16px;border:1px solid rgba(255,255,255,.5);box-shadow:0 8px 30px -10px rgba(0,0,0,.08)}.memory-stats .stat-item{display:flex;align-items:center;gap:6px}.memory-stats .stat-label{font-size:.75rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.08em}.memory-stats .stat-value{font-size:1.1rem;font-weight:800;color:var(--ion-text-color)}.time-icon{font-size:1.2rem;color:var(--glow-rose)}.memory-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}.memory-card{aspect-ratio:1;perspective:1000px;cursor:pointer}.card-inner{position:relative;width:100%;height:100%;transition:transform .5s cubic-bezier(.34,1.56,.64,1);transform-style:preserve-3d}.memory-card.flipped .card-inner,.memory-card.matched .card-inner{transform:rotateY(180deg)}.card-front,.card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;-webkit-backface-visibility:hidden;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:700}.card-front{background:linear-gradient(135deg,#6366f1,#818cf8);color:#fff;box-shadow:0 4px 15px rgba(99,102,241,.25)}.card-icon{font-size:1.8rem;opacity:.8}.card-back{background:#fff;transform:rotateY(180deg);border:2px solid rgba(0,0,0,.06);box-shadow:0 4px 15px rgba(0,0,0,.08);padding:8px}.card-back.tagalog{background:linear-gradient(135deg,#fef3c7,#fde68a);border-color:#fbbf24}.card-back.translation{background:linear-gradient(135deg,#d1fae5,#a7f3d0);border-color:#22c55e}.card-text{font-size:.85rem;font-weight:700;text-align:center;color:#1e293b;word-break:break-word;line-height:1.2}.card-type-label{position:absolute;bottom:4px;right:6px;font-size:.7rem}.memory-card.matched{pointer-events:none}.memory-card.matched .card-inner{transform:rotateY(180deg)}.memory-card.matched .card-back{background:linear-gradient(135deg,#8b5cf6,#a855f7)!important;border-color:#7c3aed!important;box-shadow:0 4px 20px rgba(139,92,246,.4)}.memory-card.matched .card-back .card-text{color:#fff}.memory-card.matched .card-back .card-type-label{filter:brightness(0) invert(1)}.memory-over-container{max-width:440px;margin:120px auto 0;padding:0 16px}.memory-over-card{background:rgba(255,255,255,.9);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.4);border-radius:32px;padding:48px 32px;text-align:center;box-shadow:0 40px 100px -20px rgba(0,0,0,.1)}.memory-over-card .trophy-icon{width:80px;height:80px;background:linear-gradient(135deg,#f43f5e,#ec4899);border-radius:24px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;box-shadow:0 0 30px rgba(244,63,94,.3);transform:rotate(-5deg)}.memory-over-card .trophy-icon ion-icon{font-size:44px;color:#fff}.memory-over-card h2{font-size:2rem;font-weight:800;margin:0 0 8px;letter-spacing:-.03em;color:var(--ion-text-color)}.memory-over-subtitle{font-size:1rem;color:#64748b;font-weight:500;margin-bottom:24px}.stars-display{display:flex;justify-content:center;gap:8px;margin-bottom:24px}.star{font-size:2rem;opacity:.2;transition:all .3s ease}.star.active{opacity:1;animation:starPop .4s ease}@keyframes starPop{0%{transform:scale(0)}50%{transform:scale(1.3)}to{transform:scale(1)}}.score-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:32px}.score-item{background:#fff;padding:16px;border-radius:16px;border:1px solid rgba(0,0,0,.04)}.score-label{font-size:.7rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.score-value{font-size:1.4rem;font-weight:800;color:var(--ion-text-color)}.score-value.accent{color:var(--glow-rose)}.score-value.streak{color:#22c55e}.play-again-btn{--background: var(--glow-rose);--border-radius: 16px;height:56px;font-size:1rem;font-weight:800;margin-bottom:12px}.home-btn{--border-radius: 16px;height:48px;font-weight:700}@media (prefers-color-scheme: dark){.memory-stats{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.card-back{background:rgba(30,30,40,.95);border-color:rgba(255,255,255,.1)}.card-back.tagalog{background:linear-gradient(135deg,#78350f,#92400e)}.card-back.translation{background:linear-gradient(135deg,#14532d,#166534)}.memory-over-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.score-item{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.05)}}@media (max-width: 400px){.memory-grid{grid-template-columns:repeat(3,1fr)}.card-text{font-size:.75rem}.score-grid{grid-template-columns:1fr}}\n/*$vite$:1*/",document.head.appendChild(r);const h=e=>{const r=[...e];for(let a=r.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[r[a],r[e]]=[r[e],r[a]]}return r};e("default",()=>{const{t:e,i18n:r}=a(),b=t.useMemo(()=>x.flatMap(e=>e.cards),[]),[f,u]=t.useState([]),[y,v]=t.useState([]),[j,k]=t.useState(0),[N,w]=t.useState(0),[z,M]=t.useState(0),[S,$]=t.useState(!1),[C,F]=t.useState(!1),I=e=>{switch(r.language){case"zh-TW":return e.zhTW||e.english;case"zh-CN":return e.zhCN||e.english;default:return e.english}},B=()=>{const e=h(b).slice(0,6),r=[];e.forEach((e,a)=>{r.push({id:`tagalog-${a}`,content:e.tagalog,type:"tagalog",pairId:e.id,isFlipped:!1,isMatched:!1}),r.push({id:`trans-${a}`,content:I(e),type:"translation",pairId:e.id,isFlipped:!1,isMatched:!1})}),u(h(r)),v([]),k(0),w(0),M(0),$(!1),F(!1)};t.useEffect(()=>{if(f.length>0&&!S){const e=setInterval(()=>{M(e=>e+1)},1e3);return()=>clearInterval(e)}},[f.length,S]),t.useEffect(()=>{B()},[]),t.useEffect(()=>{if(2===y.length){F(!0),k(e=>e+1);const[e,r]=y,a=f.find(r=>r.id===e),t=f.find(e=>e.id===r);a&&t&&a.pairId===t.pairId&&a.type!==t.type?setTimeout(()=>{u(a=>a.map(a=>a.id===e||a.id===r?{...a,isMatched:!0}:a)),w(e=>{const r=e+1;return 6===r&&$(!0),r}),v([]),F(!1)},600):setTimeout(()=>{u(a=>a.map(a=>a.id===e||a.id===r?{...a,isFlipped:!1}:a)),v([]),F(!1)},1e3)}},[y]);const E=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;if(S){const r=j<=8?3:j<=11?2:1;return s.jsxs(o,{children:[s.jsx(p,{title:e("memory.title"),showBackButton:!0,defaultHref:"/home"}),s.jsx(i,{className:"ion-padding memory-content",children:s.jsxs("div",{className:"memory-over-container fade-in-up",children:[s.jsxs("div",{className:"memory-over-card",children:[s.jsx("div",{className:"trophy-icon",children:s.jsx(c,{icon:d})}),s.jsx("h2",{children:e("memory.complete")}),s.jsx("p",{className:"memory-over-subtitle",children:e("memory.greatMemory")}),s.jsx("div",{className:"stars-display",children:[1,2,3].map(e=>s.jsx("span",{className:"star "+(e<=r?"active":""),children:"â­"},e))}),s.jsxs("div",{className:"score-grid",children:[s.jsxs("div",{className:"score-item",children:[s.jsx("div",{className:"score-label",children:e("memory.moves")}),s.jsx("div",{className:"score-value",children:j})]}),s.jsxs("div",{className:"score-item",children:[s.jsx("div",{className:"score-label",children:e("memory.time")}),s.jsx("div",{className:"score-value accent",children:E(z)})]}),s.jsxs("div",{className:"score-item",children:[s.jsx("div",{className:"score-label",children:e("memory.pairs")}),s.jsx("div",{className:"score-value streak",children:N})]})]}),s.jsxs(n,{expand:"block",className:"play-again-btn",onClick:B,children:[s.jsx(c,{icon:l,slot:"start"}),e("game.playAgain")]}),s.jsx(n,{expand:"block",fill:"outline",routerLink:"/home",className:"home-btn",children:e("review.backToHome")})]}),s.jsx(g,{})]})})]})}return s.jsxs(o,{children:[s.jsx(p,{title:e("memory.title"),showBackButton:!0,defaultHref:"/home"}),s.jsx(i,{className:"ion-padding memory-content",children:s.jsxs("div",{className:"memory-container",children:[s.jsxs("div",{className:"memory-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:e("memory.moves")}),s.jsx("span",{className:"stat-value",children:j})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx(c,{icon:m,className:"time-icon"}),s.jsx("span",{className:"stat-value",children:E(z)})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:e("memory.matched")}),s.jsxs("span",{className:"stat-value",children:[N,"/",6]})]})]}),s.jsx("div",{className:"memory-grid",children:f.map(e=>s.jsx("div",{className:`memory-card ${e.isFlipped?"flipped":""} ${e.isMatched?"matched":""}`,onClick:()=>(e=>{if(C)return;const r=f.find(r=>r.id===e);!r||r.isFlipped||r.isMatched||y.length>=2||(u(r=>r.map(r=>r.id===e?{...r,isFlipped:!0}:r)),v(r=>[...r,e]))})(e.id),children:s.jsxs("div",{className:"card-inner",children:[s.jsx("div",{className:"card-front",children:s.jsx("span",{className:"card-icon",children:"?"})}),s.jsxs("div",{className:`card-back ${e.type}`,children:[s.jsx("span",{className:"card-text",children:e.content}),s.jsx("span",{className:"card-type-label",children:"tagalog"===e.type?"ðŸ‡µðŸ‡­":"ðŸ“–"})]})]})},e.id))})]})})]})})}}});
