import{u as N,r as p,R as C,j as e,I as k,a as S,b as l,c as I,d as O}from"./index-CU99YgDY.js";import{c,b as z,i as T,a as D,d as m,e as L,p as $,h as R,f,g as W,j as B,k as F,s as E,l as G}from"./index-u5fJ2iny.js";import{F as A}from"./Footer-c8JWjoJG.js";import{l as H}from"./lessons-f0IG6bUd.js";import{g as K}from"./srs-DF9qcrCY.js";import{C as P}from"./CommonHeader-DOi-p05U.js";const V=()=>{var g;const{t:s}=N(),[o,x]=p.useState(""),[y,b]=p.useState(0),[t,u]=p.useState(null);C.useEffect(()=>{const i=K();b(i.dueCount)},[]);const r=H.filter(i=>{if(!o)return!0;const n=o.toLowerCase();return s(i.titleKey).toLowerCase().includes(n)?!0:i.cards.some(a=>a.tagalog.toLowerCase().includes(n)||a.english.toLowerCase().includes(n)||a.zhTW&&a.zhTW.includes(o)||a.zhCN&&a.zhCN.includes(o))}),h=r.reduce((i,n)=>{const d=n.groupKey||"groups.basics";return i[d]||(i[d]=[]),i[d].push(n),i},{}),j=["groups.basics","groups.daily_life","groups.social","groups.grammar"],v={"groups.basics":f,"groups.daily_life":R,"groups.social":$,"groups.grammar":L},w=Object.keys(h).sort((i,n)=>{const d=j.indexOf(i),a=j.indexOf(n);return d!==-1&&a!==-1?d-a:d!==-1?-1:a!==-1?1:i.localeCompare(n)});return e.jsxs(k,{children:[e.jsx(P,{title:s("common.appTitle")}),e.jsxs(S,{fullscreen:!0,className:"home-container",children:[!t&&!o&&e.jsxs("div",{className:"ambient-header fade-in-up",children:[e.jsx("h1",{children:s("home.welcome")}),e.jsx("p",{children:s("home.subtitle")})]}),e.jsxs("div",{className:"pod-dashboard ".concat(t||o?"no-ambient-header":""),children:[!t&&!o&&e.jsxs("div",{className:"primary-grid fade-in-up",children:[e.jsx("div",{className:"learning-pod pod-hero",onClick:()=>window.location.hash="/review",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("home.reviewDue")}),e.jsx("h2",{className:"pod-value",children:s("home.dueCount",{count:y})})]}),e.jsx(l,{icon:c,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-bookmarks",onClick:()=>window.location.hash="/lesson/bookmarks",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("bookmarks.title")}),e.jsx("h2",{className:"pod-value",children:s("bookmarks.pinnedSubtitle")})]}),e.jsx(l,{icon:z,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-intro",style:{background:"linear-gradient(135deg, #845ec2 0%, #d65db1 100%)"},onClick:()=>window.location.hash="/intro",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("home.introToTagalog")}),e.jsx("h2",{className:"pod-value",children:s("home.introSubtitle")})]}),e.jsx(l,{icon:T,style:{fontSize:"24px",color:"white"}})]})})]}),e.jsx("div",{className:"learning-pod search-pod fade-in-up",style:{animationDelay:"0.15s"},children:e.jsx(I,{value:o,onIonInput:i=>x(i.detail.value),placeholder:s("home.searchPlaceholder"),className:"luminous-search",onIonClear:()=>x("")})}),(t||o)&&e.jsxs("div",{className:"fade-in-up",style:{padding:"0 4px",display:"flex",alignItems:"baseline",gap:"8px"},children:[t&&!o&&e.jsxs(O,{fill:"clear",onClick:()=>u(null),style:{"--color":"#64748b",fontSize:"0.85rem",fontWeight:700,margin:0},children:[e.jsx(l,{icon:D,slot:"start"}),s("common.backToCategories")]}),e.jsx("span",{style:{fontSize:"1.2rem",fontWeight:800,color:"var(--ion-text-color)",letterSpacing:"-0.02em"},children:s(o?"home.searchFindings":t)})]}),e.jsx("div",{className:"pod-grid",children:o?r.map((i,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05,"s")},onClick:()=>window.location.hash="/lesson/".concat(i.id),children:[e.jsx("div",{className:"pod-icon-box",children:e.jsx(l,{icon:m})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(i.titleKey)}),e.jsx("span",{children:s("home.cardsCount",{count:i.cards.length})})]}),e.jsx(l,{icon:c,style:{color:"#cbd5e1"}})]},i.id)):t?(g=h[t])==null?void 0:g.map((i,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05,"s")},onClick:()=>window.location.hash="/lesson/".concat(i.id),children:[e.jsx("div",{className:"pod-icon-box",children:e.jsx(l,{icon:m})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(i.titleKey)}),e.jsx("span",{children:s("home.cardsCount",{count:i.cards.length})})]}),e.jsx(l,{icon:c,style:{color:"#cbd5e1"}})]},i.id)):w.map((i,n)=>e.jsxs("div",{className:"item-pod fade-in-up",style:{animationDelay:"".concat(n*.05+.2,"s")},onClick:()=>u(i),children:[e.jsx("div",{className:"pod-icon-box",style:{background:"var(--glow-indigo-soft)",color:"var(--glow-indigo)"},children:e.jsx(l,{icon:v[i]||f})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:s(i)}),e.jsx("span",{children:s("home.lessonsCount",{count:h[i].length})})]}),e.jsx(l,{icon:c,style:{color:"#cbd5e1"}})]},i))}),o&&r.length===0&&e.jsxs("div",{className:"fade-in-up",style:{textAlign:"center",padding:"60px 0",opacity:.6},children:[e.jsx(l,{icon:m,style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("p",{style:{fontWeight:600},children:s("home.noResults")})]}),!t&&!o&&e.jsxs("div",{className:"category-section fade-in-up",style:{animationDelay:"0.3s"},children:[e.jsx("h3",{className:"category-title",children:s("home.gamesCategory")}),e.jsxs("div",{className:"games-grid",children:[e.jsx("div",{className:"learning-pod pod-game",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},onClick:()=>window.location.hash="/game",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("game.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("game.podSubtitle")})]}),e.jsx(l,{icon:W,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-memory",style:{background:"linear-gradient(135deg, #f43f5e 0%, #ec4899 100%)"},onClick:()=>window.location.hash="/memory",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("memory.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("memory.podSubtitle")})]}),e.jsx(l,{icon:B,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-spell",style:{background:"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)"},onClick:()=>window.location.hash="/spell",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("spell.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("spell.podSubtitle")})]}),e.jsx(l,{icon:F,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-scramble",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},onClick:()=>window.location.hash="/scramble",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("scramble.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("scramble.podSubtitle")})]}),e.jsx(l,{icon:E,style:{fontSize:"24px",color:"white"}})]})}),e.jsx("div",{className:"learning-pod pod-emoji",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"},onClick:()=>window.location.hash="/emoji",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"pod-label",children:s("emoji.podTitle")}),e.jsx("h2",{className:"pod-value",children:s("emoji.podSubtitle")})]}),e.jsx(l,{icon:G,style:{fontSize:"24px",color:"white"}})]})})]})]}),e.jsx(A,{})]})]})]})};export{V as default};
