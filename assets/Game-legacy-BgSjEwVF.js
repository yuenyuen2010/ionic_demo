System.register(["./index-legacy-OSW31HT5.js","./index-legacy-C52fahb7.js","./CommonHeader-legacy-ConlKZEy.js","./Footer-legacy-DUd-Dxo6.js","./lessons-legacy-B_mp4Fkl.js"],function(e,r){"use strict";var a,t,o,s,n,i,l,c,d,g,m,p,x,u;return{setters:[e=>{a=e.u,t=e.r,o=e.j,s=e.I,n=e.a,i=e.b,l=e.d},e=>{c=e.y,d=e.r,g=e.n,m=e.o},e=>{p=e.C},e=>{x=e.F},e=>{u=e.l}],execute:function(){var r=document.createElement("style");r.textContent=".game-content{--background: radial-gradient(circle at top, var(--glow-indigo-soft), transparent 80%)}.game-container{max-width:520px;margin:0 auto;padding:100px 16px 40px}.game-progress{margin-bottom:24px}.progress-bar{height:8px;background:rgba(0,0,0,.05);border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--glow-indigo),var(--glow-rose));border-radius:4px;transition:width .3s ease}.progress-text{text-align:center;font-size:.85rem;font-weight:700;color:#64748b;margin-top:8px;letter-spacing:.05em}.game-stats{display:flex;justify-content:center;gap:24px;margin-bottom:32px}.stat-item{display:flex;align-items:center;gap:8px}.stat-label{font-size:.8rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em}.stat-value{font-size:1.2rem;font-weight:800;color:var(--ion-text-color)}.streak-indicator{background:linear-gradient(135deg,#fbbf24,#f59e0b);padding:6px 16px;border-radius:20px;color:#fff;animation:pulse .5s ease}.streak-indicator .stat-value{color:#fff}.streak-fire{font-size:1.1rem}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.question-card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:48px 32px;text-align:center;margin-bottom:32px;box-shadow:0 20px 60px -15px rgba(0,0,0,.1);transition:all .3s ease}.question-card.correct{border-color:#22c55e;box-shadow:0 0 30px rgba(34,197,94,.2)}.question-card.incorrect{border-color:#ef4444;box-shadow:0 0 30px rgba(239,68,68,.2);animation:shake .5s ease}@keyframes shake{0%,to{transform:translate(0)}20%,60%{transform:translate(-8px)}40%,80%{transform:translate(8px)}}.question-label{font-size:.85rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.15em;margin-bottom:16px}.question-word{font-size:2.8rem;font-weight:800;color:var(--ion-text-color);margin:0;letter-spacing:-.03em}.options-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}.option-btn{background:#fff;border:2px solid rgba(0,0,0,.06);border-radius:16px;padding:20px 16px;font-size:1rem;font-weight:600;color:var(--ion-text-color);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;min-height:80px;text-align:center}.option-btn:hover:not(:disabled){transform:translateY(-2px);border-color:var(--glow-indigo);box-shadow:0 8px 20px -5px rgba(99,102,241,.15)}.option-btn:active:not(:disabled){transform:translateY(0)}.option-btn.correct{background:linear-gradient(135deg,#22c55e,#16a34a);border-color:transparent;color:#fff}.option-btn.incorrect{background:linear-gradient(135deg,#ef4444,#dc2626);border-color:transparent;color:#fff}.option-btn.disabled{opacity:.5}.option-text{flex:1}.result-icon{font-size:1.4rem}.result-icon.correct,.result-icon.incorrect{color:#fff}.game-over-container{max-width:440px;margin:120px auto 0;padding:0 16px}.game-over-card{background:rgba(255,255,255,.9);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.4);border-radius:32px;padding:48px 32px;text-align:center;box-shadow:0 40px 100px -20px rgba(0,0,0,.1)}.trophy-icon{width:80px;height:80px;background:linear-gradient(135deg,#fbbf24,#f59e0b);border-radius:24px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;box-shadow:0 0 30px rgba(251,191,36,.3);transform:rotate(-5deg)}.trophy-icon ion-icon{font-size:44px;color:#fff}.game-over-card h2{font-size:2rem;font-weight:800;margin:0 0 8px;letter-spacing:-.03em;color:var(--ion-text-color)}.game-over-subtitle{font-size:1rem;color:#64748b;font-weight:500;margin-bottom:32px}.score-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:32px}.score-item{background:#fff;padding:16px;border-radius:16px;border:1px solid rgba(0,0,0,.04)}.score-label{font-size:.7rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.score-value{font-size:1.4rem;font-weight:800;color:var(--ion-text-color)}.score-value.accent{color:var(--glow-indigo)}.score-value.streak{color:#f59e0b}.play-again-btn{--background: var(--glow-indigo);--border-radius: 16px;height:56px;font-size:1rem;font-weight:800;margin-bottom:12px}.home-btn{--border-radius: 16px;height:48px;font-weight:700}.loading-container{display:flex;align-items:center;justify-content:center;height:60vh;color:#64748b;font-weight:600}.fade-in-up{animation:fadeInUp .5s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (prefers-color-scheme: dark){.question-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.option-btn{background:rgba(30,30,40,.8);border-color:rgba(255,255,255,.1)}.game-over-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.score-item{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.05)}}@media (max-width: 480px){.question-word{font-size:2.2rem}.options-grid,.score-grid{grid-template-columns:1fr}}\n/*$vite$:1*/",document.head.appendChild(r);const b=e=>{const r=[...e];for(let a=r.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[r[a],r[e]]=[r[e],r[a]]}return r};e("default",()=>{const{t:e,i18n:r}=a(),f=t.useMemo(()=>u.flatMap(e=>e.cards),[]),[h,v]=t.useState(0),[j,k]=t.useState(0),[N,w]=t.useState(0),[y,z]=t.useState(0),[S,q]=t.useState(null),[C,B]=t.useState(null),[M,H]=t.useState([]),[T,Y]=t.useState([]),[$,I]=t.useState(!1),E=e=>{switch(r.language){case"zh-TW":return e.zhTW||e.english;case"zh-CN":return e.zhCN||e.english;default:return e.english}},F=()=>{const e=b(f).slice(0,10);H(e),v(0),k(0),w(0),z(0),q(null),B(null),I(!1)};t.useEffect(()=>{if(0===M.length)return void F();if(h>=M.length)return void I(!0);const e=M[h],r=E(e),a=f.filter(r=>r.id!==e.id),t=b(a).slice(0,3).map(e=>E(e)),o=b([r,...t]);Y(o),q(null),B(null)},[h,M,r.language]);const U=M[h];if($){const r=Math.round(j/10*100);return o.jsxs(s,{children:[o.jsx(p,{title:e("game.title"),showBackButton:!0,defaultHref:"/home"}),o.jsx(n,{className:"ion-padding game-content",children:o.jsxs("div",{className:"game-over-container fade-in-up",children:[o.jsxs("div",{className:"game-over-card",children:[o.jsx("div",{className:"trophy-icon",children:o.jsx(i,{icon:c})}),o.jsx("h2",{children:e("game.roundComplete")}),o.jsx("p",{className:"game-over-subtitle",children:e("game.greatJob")}),o.jsxs("div",{className:"score-grid",children:[o.jsxs("div",{className:"score-item",children:[o.jsx("div",{className:"score-label",children:e("game.finalScore")}),o.jsxs("div",{className:"score-value",children:[j,"/",10]})]}),o.jsxs("div",{className:"score-item",children:[o.jsx("div",{className:"score-label",children:e("game.accuracy")}),o.jsxs("div",{className:"score-value accent",children:[r,"%"]})]}),o.jsxs("div",{className:"score-item",children:[o.jsx("div",{className:"score-label",children:e("game.bestStreak")}),o.jsxs("div",{className:"score-value streak",children:["ðŸ”¥ ",y]})]})]}),o.jsxs(l,{expand:"block",className:"play-again-btn",onClick:F,children:[o.jsx(i,{icon:d,slot:"start"}),e("game.playAgain")]}),o.jsx(l,{expand:"block",fill:"outline",routerLink:"/home",className:"home-btn",children:e("review.backToHome")})]}),o.jsx(x,{})]})})]})}return U?o.jsxs(s,{children:[o.jsx(p,{title:e("game.title"),showBackButton:!0,defaultHref:"/home"}),o.jsx(n,{className:"ion-padding game-content",children:o.jsxs("div",{className:"game-container",children:[o.jsxs("div",{className:"game-progress",children:[o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h/10*100+"%"}})}),o.jsxs("div",{className:"progress-text",children:[h+1," / ",10]})]}),o.jsxs("div",{className:"game-stats",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:e("game.score")}),o.jsx("span",{className:"stat-value",children:j})]}),N>0&&o.jsxs("div",{className:"stat-item streak-indicator",children:[o.jsx("span",{className:"streak-fire",children:"ðŸ”¥"}),o.jsx("span",{className:"stat-value",children:N})]})]}),o.jsxs("div",{className:`question-card ${!0===C?"correct":""} ${!1===C?"incorrect":""}`,children:[o.jsx("div",{className:"question-label",children:e("game.whatDoesThisMean")}),o.jsx("h2",{className:"question-word",children:U.tagalog})]}),o.jsx("div",{className:"options-grid",children:T.map((e,r)=>{const a=E(U),t=e===a,s=S===e;let n="option-btn";return null!==S&&(n+=t?" correct":s?" incorrect":" disabled"),o.jsxs("button",{className:n,onClick:()=>(e=>{if(null!==S)return;const r=M[h],a=e===E(r);q(e),B(a),a?(k(e=>e+1),w(e=>{const r=e+1;return r>y&&z(r),r})):w(0),setTimeout(()=>{v(e=>e+1)},1200)})(e),disabled:null!==S,children:[o.jsx("span",{className:"option-text",children:e}),null!==S&&t&&o.jsx(i,{icon:g,className:"result-icon correct"}),s&&!t&&o.jsx(i,{icon:m,className:"result-icon incorrect"})]},r)})})]})})]}):o.jsxs(s,{children:[o.jsx(p,{title:e("game.title"),showBackButton:!0,defaultHref:"/home"}),o.jsx(n,{className:"ion-padding game-content",children:o.jsx("div",{className:"loading-container",children:o.jsx("p",{children:e("game.loading")})})})]})})}}});
