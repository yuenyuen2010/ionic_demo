System.register(["./index-legacy-CAagR6OT.js","./index-legacy-C52fahb7.js","./CommonHeader-legacy-Djw9Zgyb.js","./Footer-legacy-BsFX6kUo.js","./lessons-legacy-B_mp4Fkl.js"],function(e,r){"use strict";var s,t,a,l,o,n,i,c,d,p,g,x,m,b,h,u;return{setters:[e=>{s=e.u,t=e.r,a=e.j,l=e.I,o=e.a,n=e.b,i=e.d,c=e.t},e=>{d=e.y,p=e.r,g=e.n,x=e.o,m=e.z},e=>{b=e.C},e=>{h=e.F},e=>{u=e.l}],execute:function(){var r=document.createElement("style");r.textContent=".spell-content{--background: radial-gradient(circle at top, var(--glow-amber-soft), transparent 80%)}.spell-container{max-width:520px;margin:0 auto;padding:100px 16px 40px}.spell-progress{margin-bottom:24px}.spell-progress .progress-bar{height:8px;background:rgba(0,0,0,.05);border-radius:4px;overflow:hidden}.spell-progress .progress-fill{height:100%;background:linear-gradient(90deg,#f59e0b,#fbbf24);border-radius:4px;transition:width .3s ease}.spell-progress .progress-text{text-align:center;font-size:.85rem;font-weight:700;color:#64748b;margin-top:8px;letter-spacing:.05em}.spell-stats{display:flex;justify-content:center;margin-bottom:32px}.spell-stats .stat-item{display:flex;align-items:center;gap:8px}.spell-stats .stat-label{font-size:.8rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em}.spell-stats .stat-value{font-size:1.2rem;font-weight:800;color:var(--ion-text-color)}.spell-card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.5);border-radius:24px;padding:40px 32px;text-align:center;margin-bottom:24px;box-shadow:0 20px 60px -15px rgba(0,0,0,.1);transition:all .3s ease}.spell-card.correct{border-color:#22c55e;box-shadow:0 0 30px rgba(34,197,94,.2)}.spell-card.incorrect{border-color:#ef4444;box-shadow:0 0 30px rgba(239,68,68,.2)}.spell-prompt-label{font-size:.85rem;font-weight:700;color:#94a3b8;text-transform:uppercase;letter-spacing:.15em;margin-bottom:16px}.spell-prompt{font-size:2.2rem;font-weight:800;color:var(--ion-text-color);margin:0 0 16px;letter-spacing:-.03em}.hint-display{margin-top:16px;padding:12px 20px;background:rgba(245,158,11,.1);border-radius:12px;display:inline-block}.hint-label{font-size:.75rem;font-weight:700;color:#f59e0b;text-transform:uppercase;letter-spacing:.1em;margin-right:8px}.hint-text{font-size:1.2rem;font-weight:700;font-family:monospace;color:#f59e0b;letter-spacing:.2em}.input-area{margin-bottom:24px}.spell-input{--background: white;--padding-start: 20px;--padding-end: 20px;--padding-top: 16px;--padding-bottom: 16px;border:2px solid rgba(0,0,0,.06);border-radius:16px;font-size:1.2rem;font-weight:600;text-align:center;transition:all .2s ease}.spell-input:focus-within{border-color:#f59e0b;box-shadow:0 0 0 4px rgba(245,158,11,.1)}.spell-input.correct{border-color:#22c55e;background:rgba(34,197,94,.05)}.spell-input.incorrect{border-color:#ef4444;background:rgba(239,68,68,.05)}.feedback-display{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:16px;padding:12px 20px;border-radius:12px;font-weight:700;font-size:1.1rem}.feedback-display.correct{background:rgba(34,197,94,.1);color:#22c55e}.feedback-display.incorrect{background:rgba(239,68,68,.1);color:#ef4444}.feedback-display ion-icon{font-size:1.4rem}.action-buttons{display:flex;gap:12px}.hint-btn{flex:1;--border-radius: 14px;height:52px;font-weight:700}.submit-btn{flex:2;--background: linear-gradient(135deg, #f59e0b, #fbbf24);--border-radius: 14px;height:52px;font-weight:800;font-size:1rem}.spell-over-container{max-width:440px;margin:120px auto 0;padding:0 16px}.spell-over-card{background:rgba(255,255,255,.9);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.4);border-radius:32px;padding:48px 32px;text-align:center;box-shadow:0 40px 100px -20px rgba(0,0,0,.1)}.spell-over-card .trophy-icon{width:80px;height:80px;background:linear-gradient(135deg,#f59e0b,#fbbf24);border-radius:24px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;box-shadow:0 0 30px rgba(245,158,11,.3);transform:rotate(-5deg)}.spell-over-card .trophy-icon ion-icon{font-size:44px;color:#fff}.spell-over-card h2{font-size:2rem;font-weight:800;margin:0 0 8px;letter-spacing:-.03em;color:var(--ion-text-color)}.spell-over-subtitle{font-size:1rem;color:#64748b;font-weight:500;margin-bottom:32px}.spell-over-card .score-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:32px}.spell-over-card .score-item{background:#fff;padding:16px;border-radius:16px;border:1px solid rgba(0,0,0,.04)}.spell-over-card .score-label{font-size:.7rem;font-weight:800;color:#94a3b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}.spell-over-card .score-value{font-size:1.4rem;font-weight:800;color:var(--ion-text-color)}.spell-over-card .score-value.accent{color:#f59e0b}.spell-over-card .score-value.streak{color:#64748b}.spell-over-card .play-again-btn{--background: linear-gradient(135deg, #f59e0b, #fbbf24);--border-radius: 16px;height:56px;font-size:1rem;font-weight:800;margin-bottom:12px}.spell-over-card .home-btn{--border-radius: 16px;height:48px;font-weight:700}.loading-container{display:flex;align-items:center;justify-content:center;height:60vh;color:#64748b;font-weight:600}.fade-in-up{animation:fadeInUp .5s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (prefers-color-scheme: dark){.spell-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.spell-input{--background: rgba(30, 30, 40, .8);border-color:rgba(255,255,255,.1)}.spell-over-card{background:rgba(30,30,40,.9);border-color:rgba(255,255,255,.1)}.spell-over-card .score-item{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.05)}}@media (max-width: 480px){.spell-prompt{font-size:1.8rem}.spell-over-card .score-grid{grid-template-columns:1fr}}\n/*$vite$:1*/",document.head.appendChild(r),e("default",()=>{const{t:e,i18n:r}=s(),f=t.useMemo(()=>u.flatMap(e=>e.cards),[]),v=t.useRef(null),[j,k]=t.useState(0),[w,N]=t.useState(0),[y,z]=t.useState(""),[C,S]=t.useState(0),[B,M]=t.useState(!1),[T,$]=t.useState(null),[H,I]=t.useState([]),[E,L]=t.useState(!1),F=()=>{const e=(e=>{const r=[...e];for(let s=r.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[r[s],r[e]]=[r[e],r[s]]}return r})(f).slice(0,8);I(e),k(0),N(0),z(""),S(0),M(!1),$(null),L(!1)};t.useEffect(()=>{F()},[]),t.useEffect(()=>{H.length>0&&!E&&null===T&&setTimeout(()=>{var e;null===(e=v.current)||void 0===e||e.setFocus()},100)},[j,H.length,E,T]);const U=H[j],W=()=>{if(!U||null!==T)return;const e=U.tagalog.toLowerCase().trim(),r=y.toLowerCase().trim()===e;$(r?"correct":"incorrect"),r&&N(e=>e+(B?.5:1)),setTimeout(()=>{j+1>=8?L(!0):(k(e=>e+1),z(""),M(!1),$(null))},1500)};if(E){const r=Math.round(w/8*100);return a.jsxs(l,{children:[a.jsx(b,{title:e("spell.title"),showBackButton:!0,defaultHref:"/home"}),a.jsx(o,{className:"ion-padding spell-content",children:a.jsxs("div",{className:"spell-over-container fade-in-up",children:[a.jsxs("div",{className:"spell-over-card",children:[a.jsx("div",{className:"trophy-icon",children:a.jsx(n,{icon:d})}),a.jsx("h2",{children:e("spell.complete")}),a.jsx("p",{className:"spell-over-subtitle",children:e("spell.greatSpelling")}),a.jsxs("div",{className:"score-grid",children:[a.jsxs("div",{className:"score-item",children:[a.jsx("div",{className:"score-label",children:e("game.finalScore")}),a.jsxs("div",{className:"score-value",children:[w,"/",8]})]}),a.jsxs("div",{className:"score-item",children:[a.jsx("div",{className:"score-label",children:e("game.accuracy")}),a.jsxs("div",{className:"score-value accent",children:[r,"%"]})]}),a.jsxs("div",{className:"score-item",children:[a.jsx("div",{className:"score-label",children:e("spell.hints")}),a.jsx("div",{className:"score-value streak",children:C})]})]}),a.jsxs(i,{expand:"block",className:"play-again-btn",onClick:F,children:[a.jsx(n,{icon:p,slot:"start"}),e("game.playAgain")]}),a.jsx(i,{expand:"block",fill:"outline",routerLink:"/home",className:"home-btn",children:e("review.backToHome")})]}),a.jsx(h,{})]})})]})}return U?a.jsxs(l,{children:[a.jsx(b,{title:e("spell.title"),showBackButton:!0,defaultHref:"/home"}),a.jsx(o,{className:"ion-padding spell-content",children:a.jsxs("div",{className:"spell-container",children:[a.jsxs("div",{className:"spell-progress",children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:j/8*100+"%"}})}),a.jsxs("div",{className:"progress-text",children:[j+1," / ",8]})]}),a.jsx("div",{className:"spell-stats",children:a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-label",children:e("game.score")}),a.jsx("span",{className:"stat-value",children:w})]})}),a.jsxs("div",{className:`spell-card ${"correct"===T?"correct":""} ${"incorrect"===T?"incorrect":""}`,children:[a.jsx("div",{className:"spell-prompt-label",children:e("spell.typeTagalog")}),a.jsx("h2",{className:"spell-prompt",children:(e=>{switch(r.language){case"zh-TW":return e.zhTW||e.english;case"zh-CN":return e.zhCN||e.english;default:return e.english}})(U)}),B&&a.jsxs("div",{className:"hint-display",children:[a.jsx("span",{className:"hint-label",children:e("spell.hintLabel")}),a.jsx("span",{className:"hint-text",children:(e=>{const r=e.length;if(r<=2)return e[0]+"_";const s=Math.ceil(r/3);let t=e.substring(0,s);for(let a=s;a<r;a++)t+=" "===e[a]?" ":"_";return t})(U.tagalog)})]})]}),a.jsxs("div",{className:"input-area",children:[a.jsx(c,{ref:v,value:y,onIonInput:e=>z(e.detail.value||""),onKeyDown:e=>{"Enter"===e.key&&null===T&&W()},placeholder:e("spell.placeholder"),className:`spell-input ${T}`,disabled:null!==T,autocapitalize:"off",autocomplete:"off",spellcheck:!1}),T&&a.jsxs("div",{className:`feedback-display ${T}`,children:[a.jsx(n,{icon:"correct"===T?g:x}),a.jsx("span",{children:"correct"===T?e("review.correct"):U.tagalog})]})]}),a.jsxs("div",{className:"action-buttons",children:[a.jsxs(i,{fill:"outline",onClick:()=>{B||(M(!0),S(e=>e+1))},disabled:B||null!==T,className:"hint-btn",children:[a.jsx(n,{icon:m,slot:"start"}),e("spell.hint")]}),a.jsx(i,{onClick:W,disabled:!y.trim()||null!==T,className:"submit-btn",children:e("spell.submit")})]})]})})]}):a.jsxs(l,{children:[a.jsx(b,{title:e("spell.title"),showBackButton:!0,defaultHref:"/home"}),a.jsx(o,{className:"ion-padding spell-content",children:a.jsx("div",{className:"loading-container",children:a.jsx("p",{children:e("game.loading")})})})]})})}}});
