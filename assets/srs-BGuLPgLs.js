import{l}from"./lessons-BXRLNH_M.js";const u="srs-data",d=()=>{try{const t=localStorage.getItem(u);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to load SRS data",t),{}}},i=t=>{try{localStorage.setItem(u,JSON.stringify(t))}catch(a){console.error("Failed to save SRS data",a)}},g=(t,a)=>{const s=d(),r=s[t]||{level:0};let o,e;if(a){e=r.level+1;const c=3*e;o=Date.now()+c*24*60*60*1e3}else e=0,o=Date.now()+10*60*1e3;const n={nextReview:o,level:e};return s[t]=n,i(s),n},R=()=>{const t=d(),a=Date.now(),s=[];return l.forEach(r=>{r.cards.forEach(o=>{const e=t[o.id];(!e||e.nextReview<=a)&&s.push(o)})}),s},v=()=>{const t=d(),a=l.reduce((e,n)=>e+n.cards.length,0),s=Object.keys(t).length,r=Date.now(),o=l.reduce((e,n)=>e+n.cards.filter(c=>{const S=t[c.id];return!S||S.nextReview<=r}).length,0);return{totalCards:a,reviewedCount:s,dueCount:o}};export{R as a,v as g,g as u};
